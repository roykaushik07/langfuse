# ==============================================================================
# LANGFUSE ENVIRONMENT CONFIGURATION - CORPORATE SETUP
# ==============================================================================
# Copy this file to .env and update the values for your environment
# ==============================================================================

# ------------------------------------------------------------------------------
# Database Configuration
# ------------------------------------------------------------------------------
POSTGRES_DB=langfuse
POSTGRES_USER=langfuse
POSTGRES_PASSWORD=changeme_use_strong_password

# PostgreSQL connection strings
DATABASE_URL=postgresql://langfuse:changeme_use_strong_password@postgres:5432/langfuse
DIRECT_URL=postgresql://langfuse:changeme_use_strong_password@postgres:5432/langfuse

# ------------------------------------------------------------------------------
# Redis Configuration
# ------------------------------------------------------------------------------
REDIS_PASSWORD=changeme_use_strong_password
REDIS_CONNECTION_STRING=redis://:changeme_use_strong_password@redis:6379

# ------------------------------------------------------------------------------
# ClickHouse Configuration (Required for Langfuse v3)
# ------------------------------------------------------------------------------
# ClickHouse stores traces, observations, and scores for high-performance analytics
CLICKHOUSE_USER=clickhouse
CLICKHOUSE_PASSWORD=changeme_use_strong_password
CLICKHOUSE_DB=default

# ClickHouse connection URLs (use internal Docker service names)
CLICKHOUSE_URL=http://clickhouse:8123
CLICKHOUSE_MIGRATION_URL=clickhouse://clickhouse:9000

# Set to false for single-container (non-cluster) setups
CLICKHOUSE_CLUSTER_ENABLED=false

# ------------------------------------------------------------------------------
# NextAuth Configuration
# ------------------------------------------------------------------------------
# URL where Langfuse will be accessible
NEXTAUTH_URL=http://localhost:3000

# Generate a random secret (minimum 32 characters)
# You can generate one using: openssl rand -base64 32
NEXTAUTH_SECRET=changeme_generate_random_secret_min_32_chars

# ------------------------------------------------------------------------------
# API Key Hashing Salt
# ------------------------------------------------------------------------------
# Generate a random salt
# You can generate one using: openssl rand -base64 32
SALT=changeme_generate_random_salt

# ------------------------------------------------------------------------------
# S3/MinIO Storage Configuration
# ------------------------------------------------------------------------------
S3_ENDPOINT=http://minio:9000
S3_ACCESS_KEY_ID=minio_admin
S3_SECRET_ACCESS_KEY=changeme_use_strong_password
S3_BUCKET_NAME=langfuse
S3_REGION=us-east-1

# MinIO Root Credentials
MINIO_ROOT_USER=minio_admin
MINIO_ROOT_PASSWORD=changeme_use_strong_password

# ------------------------------------------------------------------------------
# Application Configuration
# ------------------------------------------------------------------------------
NODE_ENV=production
TELEMETRY_ENABLED=0

# ------------------------------------------------------------------------------
# Optional: Email Configuration
# ------------------------------------------------------------------------------
# Uncomment and configure if you need email functionality
# EMAIL_FROM_ADDRESS=noreply@your-company.com
# SMTP_CONNECTION_URL=smtp://username:password@smtp.your-company.com:587

# ------------------------------------------------------------------------------
# Optional: Authentication Providers
# ------------------------------------------------------------------------------
# Configure if you want to enable SSO

# Google OAuth
# AUTH_GOOGLE_CLIENT_ID=your-google-client-id
# AUTH_GOOGLE_CLIENT_SECRET=your-google-client-secret
# AUTH_GOOGLE_ALLOW_ACCOUNT_LINKING=true

# GitHub OAuth
# AUTH_GITHUB_CLIENT_ID=your-github-client-id
# AUTH_GITHUB_CLIENT_SECRET=your-github-client-secret
# AUTH_GITHUB_ALLOW_ACCOUNT_LINKING=true

# Azure AD OAuth
# AUTH_AZURE_AD_CLIENT_ID=your-azure-client-id
# AUTH_AZURE_AD_CLIENT_SECRET=your-azure-client-secret
# AUTH_AZURE_AD_TENANT_ID=your-tenant-id
# AUTH_AZURE_AD_ALLOW_ACCOUNT_LINKING=true

# OIDC/Okta
# AUTH_CUSTOM_CLIENT_ID=your-oidc-client-id
# AUTH_CUSTOM_CLIENT_SECRET=your-oidc-client-secret
# AUTH_CUSTOM_ISSUER=https://your-oidc-provider.com
# AUTH_CUSTOM_NAME=Your SSO Provider
# AUTH_CUSTOM_ALLOW_ACCOUNT_LINKING=true

# ------------------------------------------------------------------------------
# Optional: Advanced Configuration
# ------------------------------------------------------------------------------
# PORT=3000
# DATABASE_POOL_SIZE=10
# LANGFUSE_INIT_PROJECT_PUBLIC_KEY=public-key
# LANGFUSE_INIT_PROJECT_SECRET_KEY=secret-key
# LANGFUSE_INIT_PROJECT_NAME=default
# LANGFUSE_INIT_ORG_ID=your-org-id
# LANGFUSE_INIT_ORG_NAME=Your Organization
# LANGFUSE_INIT_USER_EMAIL=admin@your-company.com
# LANGFUSE_INIT_USER_NAME=Admin User
# LANGFUSE_INIT_USER_PASSWORD=admin_password
